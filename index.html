<!--
 * Copyright (C) 2019 Eliastik (eliastiksofts.com)
 *
 * This file is part of "Simple Voice Changer".
 *
 * "Simple Voice Changer" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "Simple Voice Changer" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "Simple Voice Changer".  If not, see <http://www.gnu.org/licenses/>. -->
<html>
    <head>
        <title>Simple Voice Changer by Eliastik's Softs</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no" />
        <meta name="theme-color" content="#16A085">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css" />
        <link rel="stylesheet" type="text/css" href="assets/css/bootstrap-slider.min.css" />
        <link rel="stylesheet" type="text/css" href="assets/css/main.css" />
        <link rel="icon" href="favicon.ico" />
        <link rel="icon" sizes="128x128" href="assets/img/favicon.png">
        <link rel="apple-touch-icon" href="assets/img/favicon.png">
        <link rel="manifest" href="manifest.json">
    </head>
    <body>
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href=""><img src="favicon.ico" alt="Logo"></img> <span class="title-align">Simple Voice Changer by Eliastik's Softs</span></a>
                </div>
            </div>
        </nav>
        <div class="container well">
            <noscript><div class="alert alert-danger" id="noJS"><i class="fa fa-times-circle fa-fw" aria-hidden="true"></i> Javascript est désactivé sur votre navigateur web. Cette application nécessite Javascript pour pouvoir fonctionner. <a href="https://www.enable-javascript.com/fr/" target="_blank" class="alert-link">Cliquez ici pour savoir comment activer Javascript</a>.</div></noscript>
            <div class="alert alert-info" id="loading"><i class="fa fa-refresh fa-spin fa-fw"></i> <span id="loadingInfo">Chargement</span><br /><small id="timeLoadingInfo"></small></div>
            <div class="alert alert-danger" id="errorLoading"><i class="fa fa-times-circle fa-fw" aria-hidden="true"></i> Une erreur de connexion est survenue lors du chargement de certaines données. Vérifiez votre connexion Internet puis <a href="#" onclick="reloadData();" class="alert-link">cliquez ici pour tenter de recharger les données</a>, ou <a href="#" onclick="location.reload();" class="alert-link">rechargez la page</a>.<br />Si vous utilisez cette application en local et à cause de limitations techniques, le chargement des données est bloqué, ce qui empêchera à certaines fonctionnalités de fonctionner (Vocoder, Réverbération). Dans ce cas, <a href="http://www.eliastiksofts.com/simple-voice-changer/demo/" target="_blank" class="alert-link">utilisez la version en ligne</a>.</div>
            <div class="alert alert-danger" id="compa"><i class="fa fa-times-circle fa-fw" aria-hidden="true"></i> <span id="compaInfo"></span></div>
            <p id="description" class="lead">Simple Voice Changer vous permet de modifier la voix d'un fichier audio ou d'un enregistrement rapidement et simplement : choisissez un fichier audio, ou enregistrez-vous, et vous pouvez modifier et enregistrer ! Tout le traitement audio se fait sur votre appareil et aucune donnée n'est envoyée sur Internet.</p>
            <div class="row" id="firstEtape">
                <div class="container-fluid">
                    <h2>1<sup>ère</sup> étape : sélectionnez un fichier audio, ou enregistrez votre voix</h2>
                    <form class="center">
                        <div class="alert alert-danger" id="errorLoadingSelectFile"><i class="fa fa-times-circle fa-fw"></i> <span class="bold">Une erreur est survenue lors du chargement du fichier sélectionné.</span></div>
                        <button class="btn btn-primary" type="button" id="fileSelect" onclick="selectFile();" disabled="disabled"><i class="fa fa-file-audio-o fa-fw" aria-hidden="true"></i> Sélectionner un fichier audio</button>
                        <input id="inputFile" type="file" name="inputFile" accept="audio/*" style="display: none;">
                        <h3>Ou</h3>
                        <div class="disabled-button-wrapper" id="wrapperFileRecord"><button class="btn btn-default" type="button" id="fileRecord" onclick="recordAudio();" disabled="disabled"><i class="fa fa-microphone fa-fw" aria-hidden="true"></i> Enregistrer via le micro</button></div>
                    </form>
                </div>
            </div>
            <div class="row" id="firstEtapeBis">
                <div class="container-fluid">
                    <h2>1<sup>ère</sup> étape bis : enregistrez votre voix</h2>
                    <div class="alert alert-danger" id="errorRecord" style="display: none;"><i class="fa fa-times-circle fa-fw"></i> <span class="bold">Une erreur est survenue lors de la connexion au périphérique d'entrée. Assurez-vous d'avoir autorisé l'accès et d'avoir un périphérique d'entrée correctement connecté, puis réessayez.</span></div>
                    <div class="alert alert-info" id="waitRecord"><i class="fa fa-info-circle fa-fw"></i> <span class="bold">Autorisez l'accès au microphone sur la notification qui est apparue sur votre navigateur web.</span></div>
                    <p id="description" class="lead">Vous pouvez maintenant vous enregistrer à l'aide de votre micro. Appuyez sur Démarrer pour commencer, et appuyez sur Stop dès que vous avez terminé pour commencer à modifier votre voix. Vous pouvez aussi mettre en pause l'enregistrement quand vous le voulez.</p>
                    <form class="center">
                        <div class="checkbox disabled" id="checkAudioRetourGroup">
                            <span id="checkAudioRetourWrapper"><input type="checkbox" id="checkAudioRetour" disabled="disabled" /> <label for="checkAudioRetour">Retour audio</label></span>
                        </div>
                        <button class="btn btn-success" type="button" id="recordAudioPlay" onclick="recordPlay();" disabled="disabled"><i class="fa fa-play fa-fw" aria-hidden="true"></i> Démarrer</button> <button class="btn btn-default" type="button" id="recordAudioPause" onclick="recordPause();" disabled="disabled"><i class="fa fa-pause fa-fw" aria-hidden="true"></i> Pause</button> <button class="btn btn-danger" type="button" id="recordAudioStop" onclick="recordStop();" disabled="disabled"><i class="fa fa-stop fa-fw" aria-hidden="true"></i> Stop</button><br />
                        <span class="bold">Durée de l'enregistrement : <span id="timeRecord">00:00</span></span>
                        <div class="form-group mmt"><button class="btn btn-danger" type="button" onclick="launchReset();"><i class="fa fa-times fa-fw" aria-hidden="true"></i> Annuler</button></div>
                    </form>
                </div>
            </div>
            <div class="row" id="secondEtape">
                <div class="container-fluid">
                    <form class="center">
                        <i class="fa fa-refresh fa-spin fa-fw"></i> <span class="bold">Chargement en cours… Veuillez patienter.</span>
                    </form>
                </div>
            </div>
            <div class="row" id="thirdEtape">
                <div class="container-fluid">
                    <form class="center">
                        <button class="btn btn-primary" type="button" id="resetAudio" onclick="launchReset();"><i class="fa fa-refresh fa-fw" aria-hidden="true"></i> Choisir un autre fichier ou enregistrement</button>
                    </form>
                    <h2>2<sup>ème</sup> étape : modifiez et testez</h2>
                    <form class="center">
                        <button class="btn btn-success" type="button" id="playAudio" onclick="launchPlay();"><i class="fa fa-play fa-fw" aria-hidden="true"></i> Lire</button> <div class="disabled-button-wrapper" id="wrapperStop"><button class="btn btn-danger" type="button" id="stopAudio" onclick="launchStop();"><i class="fa fa-stop fa-fw" aria-hidden="true"></i> Stop</button></div>
                        <div class="mt">
                            <div class="mb big" id="processingModifLoader">
                                <i class="fa fa-refresh fa-spin fa-fw"></i> <span class="bold">Traitement en cours… Veuillez patienter.</span>
                            </div>
                            <div class="form-group">
                                <label for="pitchRange"><i class="fa fa-microphone fa-fw" aria-hidden="true"></i> Pitch (hauteur de la voix) :</label>
                                <div>
                                     <span class="slider-label left">Grave</span> <input type="text" name="pitchRange" id="pitchRange" data-provide="slider" data-slider-min="0.1" data-slider-max="5" data-slider-step="0.1" data-slider-value="1" data-slider-tooltip="show" data-slider-ticks="[0.1, 1, 2, 5]" data-slider-ticks-snap-bounds="0.1" ticks_positions="[0.1, 1, 2, 5]"> <span class="slider-label right">Aigu</span>
                                </div>
                                <label for="speedRange"><i class="fa fa-forward fa-fw" aria-hidden="true"></i> Vitesse :</label>
                                <div>
                                    <span class="slider-label left">Lent</span> <input type="text" name="speedRange" id="speedRange" data-provide="slider" data-slider-min="0.1" data-slider-max="5" data-slider-step="0.1" data-slider-value="1" data-slider-tooltip="show" data-slider-ticks="[0.1, 1, 2, 5]" data-slider-ticks-snap-bounds="0.1" ticks_positions="[0.1, 1, 2, 5]"> <span class="slider-label right">Rapide</span>
                                </div>
                                <div class="checkbox disabled" id="checkReverbGroup">
                                    <span id="checkReverbWrapper"><input type="checkbox" id="checkReverb" disabled="disabled" /> <label for="checkReverb">Réverbération</label></span>
                                </div>
                                <div class="checkbox disabled" id="checkVocodeGroup">
                                    <span id="checkVocodeWrapper"><input type="checkbox" id="checkVocode" disabled="disabled" /> <label for="checkVocode">Vocoder (voix robotique)</label></span>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" id="checkCompa" onclick="compaMode();" /> <label for="checkCompa">Mode de compatibilité (cocher si aucun son n'est diffusé)</label><br />
                                    <span class="small ml" id="compatAutoDetected">Détecté et activé automatiquement</span>
                                </div>
                                <div class="mt">
                                    <button class="btn btn-primary" type="button" id="validInputModify" onclick="validModify(false, false);" disabled="disabled"><i class="fa fa-check fa-fw" aria-hidden="true"></i> Valider</button>
                                    <button class="btn btn-default" type="button" id="randomInputModify" onclick="randomModify();"><i class="fa fa-random fa-fw" aria-hidden="true"></i> Réglages au hasard</button>
                                    <button class="btn btn-danger" type="button" id="resetInputModify" onclick="resetModify();"><i class="fa fa-refresh fa-fw" aria-hidden="true"></i> Réinitialiser</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row" id="lastEtape">
                <div class="container-fluid">
                    <h2>3<sup>ème</sup> étape : enregistrez vos modifications</h2>
                    <p id="description" class="lead">N'oubliez pas de cliquer sur Valider afin de valider vos modifications avant d'enregistrer. L'enregistrement se fera sous le format WAV (non compressé).</p>
                    <form class="center">
                        <div class="mb big" id="processingSave">
                            <i class="fa fa-refresh fa-spin fa-fw"></i> <span class="bold">Enregistrement en cours… Veuillez patienter. Votre modification sera téléchargée sous peu.</span><br />
                            <span class="bold small">L'enregistrement se terminera dans environ <span id="timeFinishedDownload">00:00</span>. Il y a un délai car le mode de compatibilité est activé.</span>
                        </div>
                        <div class="disabled-button-wrapper" id="wrapperSave">
                            <button class="btn btn-default" type="button" id="saveInputModify" onclick="launchSave();" disabled="disabled"><i class="fa fa-save fa-fw" aria-hidden="true"></i> Enregistrer</button>
                        </div>
                    </form>
                </div>
            </div>
            <p>By <a href="http://www.eliastiksofts.com" target="_blank">Eliastik</a> – <a href="http://www.eliastiksofts.com/simple-voice-changer/downloads/" target="_blank">Télécharger le projet</a> – <a href="README.md" target="_blank">Fichier Lisez-moi</a> – <a href="https://github.com/Eliastik/simple-voice-changer" target="_blank">Dépôt Github</a> – <a href="#" data-toggle="modal" data-target="#compatibility">Voir les navigateurs compatibles</a></p>
            <p class="small">Version 1.0.2 – 23/04/2019</p>
        </div>
        <div id="compatibility" class="modal fade" role="dialog">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Navigateurs compatibles</h4>
              </div>
              <div class="modal-body">
                <p>Simple Voice Changer est compatible avec les navigateurs suivants (versions mobiles comprises) :
                    <ul>
                        <li>Chrome, Chromium et autres navigateurs basés sur Chromium (Opera, Vivaldi, etc.)</li>
                        <li>Firefox</li>
                        <li>Safari</li>
                        <li>Microsoft Edge</li>
                    </ul>
                </p>
                <h3>Problèmes connus :</h3>
                <p>
                    <ul>
                        <li>La sauvegarde de la modification échoue sur Firefox et Microsoft Edge à cause d'un bug de ces navigateurs (par exemple <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1031851" target="_blank">sur Firefox</a>). L'application utilise un mode de compatibilité pour tenter de passer outre ce bug, la sauvegarde peut ainsi prendre plus de temps. Ce problème ne touche pas Chrome, Chromium ainsi que les autres navigateurs basés sur Chromium.</li>
                        <li>Si la carte son de votre appareil est configurée en 192 KHz ou plus (taux d'échantillonnage), le Vocoder fonctionnera mal. Configurez-là en 92 KHz ou moins dans ce cas. Dans la plupart des cas, vous ne devriez pas vous soucier de cela car la plupart des appareils sont configurés par défaut en 44 KHz ou 48 KHz.</li>
                    </ul>
                </p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times fa-fw" aria-hidden="true"></i> Fermer</button>
              </div>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="assets/js/soundtouch.js"></script>
        <script type="text/javascript" src="assets/js/vocoder.js"></script>
        <script type="text/javascript" src="assets/js/bootstrap-slider.min.js"></script>
        <script type="text/javascript" src="assets/js/bootstrap-native-polyfill.min.js"></script>
        <script type="text/javascript" src="assets/js/bootstrap-native.min.js"></script>
        <script type="text/javascript" src="assets/js/recorder.js"></script>
        <script type="text/javascript" src="assets/js/main.js"></script>
    </body>
</html>
